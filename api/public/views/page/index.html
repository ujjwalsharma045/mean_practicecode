<div ng-include="'views/layouts/admin_header.html'"></div>
 <link rel="stylesheet" type="text/css" href="css/slider.css">	 
 <div>
    <titleelement></titleelement>
 </div>
 <br>

 <div>
   <div>
     <input type="text" name="title"  ng-model="page.title" placeholder="Title"/>
	 <input type="text" name="content"  ng-model="page.content" placeholder="Content"/>
	 <select name="status"  ng-model="page.status"> 
	    <option ng-repeat="status in statusarr" value="{{status.id}}">
		   {{status.title}}
		</option>
	 </select>	 
	 <div>
       Per page:-<input type="text" name="pagelimit" ng-model="page.limit" value="" />	  
     </div>
	 <input type="button" name="search"  ng-model="page.search" value="Search" ng-click="searchPage('')"/>
   </div>
   </br>
   </br>
  
   <input type="button" name="check" ng-model="page.checkall" ng-click="checkAllToggle()" value="CheckAll"/>	
   		  
   <input type="button" name="uncheck" ng-model="page.uncheckall" ng-click="uncheckAllToggle()" value="UnCheckAll"/>	
   </br>
   </br>  
  
    <div>
       Totalpages: {{ totalpages }}
    </div>
	
    <div style="float:left">
      <div>
       <a href="#/page/add">Add Pages</a>
      </div>
      </br>
    </div>

    <div style="float:right">
      <div style="float:left">
        <a href="http://127.0.0.1:8081/page/exportcsv">Export to csv</a>
      </div>

      <div style="float:left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

	  <div style="float:left">
		 <a href="http://127.0.0.1:8081/page/exportxls">Export to xls</a>
	  </div>
      </br>
    </div>
	
    <table border="1" style="border:1px solid #cccccc;border-collapse:collapse;width:100%">
       <tr>
	     <th>
		   <a href="javascript:void(0)" ng-click="removePages()">Delete</a>
		 </th>
	     <th>
		   <a href="javascript:void(0)" ng-click="searchPage('title')">
		     Title
		   </a>
		   <input type="hidden" name="sorttitle"  ng-model="sort.title"/>
		   <span ng-show="sortType == 'sorttitle'">
		       <span ng-show="!sortReverse">^</span>
			   <span ng-show="sortReverse">v</span>
		   </span>
		 </th>
		 <th>
		   <a href="javascript:void(0)" ng-click="sortlist('content')">
		     Content
		   </a>
		   <input type="hidden" name="sortcontent"  ng-model="sort.content"/>
		   
		   <span ng-show="sortType == 'sortcontent'">
		       <span ng-show="!sortReverse">^</span>
			   <span ng-show="sortReverse">v</span>
		   </span>
		 </th>
		 <th>
		   <a href="javascript:void(0)" ng-click="sortlist('status')">Status</a>
		   <input type="hidden" name="sortstatus"  ng-model="sort.status"/>
		   		   
		   <span ng-show="sortType == 'sortstatus'">
		       <span ng-show="!sortReverse">^</span>
			   <span ng-show="sortReverse">v</span>
		   </span>
		 </th>		 		 
		 <th colspan="3">Action</th>		
	  </tr>
	  
	  <tr ng-repeat="page in pagescontent">
	      <td><input type="checkbox" ng-model="page.Selected" value="{{page._id}}"/></td>
	      <td>{{page.title}}</td>
		  <td bind-unsafe-html="page.content"></td>
		  <td>{{page.status}}</td>		  
		  <td><a href="javascript:void(0)" fancybox ng-click="showpageview(page._id)">View</a></td>
		  <td><a href="#/page/edit/{{page._id}}">Edit</a></td>
		  <td>
		    <a href="javascript:void(0)" ng-click="remove(page._id , $index)">Delete</a>
		  </td>
	  </tr>
    </table>
  
    <ul style="list-style:none;float:none">
       <li ng-show="current_page>1">
	     <a href="javascript:void(0)" ng-click="current_page= current_page -1;searchPage();">
		    Previous
		 </a>
	   </li>
	 
	   <li ng-show="current_page>1">
	      <a href="javascript:void(0)" ng-click="current_page=1;searchPage();">
		    First
		  </a>
	   </li>
	 
	   <li ng-repeat="page in pages">
	      <a href="javascript:void(0)" ng-click="setPageNo($index); searchPage();">
		    {{page}}
		  </a>
	   </li>
	 
	   <li ng-show="current_page<totalpages">
	      <a href="javascript:void(0)" ng-click="current_page= current_page+1;searchPage();">
		    Next
		  </a>
	   </li>
	 
	   <li ng-show="current_page<totalpages">
	      <a href="javascript:void(0)" ng-click="current_page=totalpages;searchPage();">
		    Last
		  </a>
	   </li>
  </ul>  
</div>

<div ng-include="'views/layouts/admin_footer.html'"></div>